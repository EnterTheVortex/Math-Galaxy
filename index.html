<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Math Galaxy</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <canvas id="spaceBackground"></canvas>

  <div id="app">
    <!-- Start Menu -->
    <div id="startMenu" class="page">
      <h1 class="title">🌌 Math Galaxy</h1>
      <button class="game-btn" onclick="openGameModes()">🎮 Game Modes</button>
      <button class="game-btn" onclick="openSettings()">⚙️ Settings</button>
      <button class="game-btn" onclick="openCollections()">📦 Collections</button>
    </div>

    <!-- Game Modes -->
    <div id="gameModes" class="page hidden">
      <h2>Choose a Category</h2>
      <button class="game-btn" onclick="openCategory('addition')">➕ Addition</button>
      <button class="game-btn" onclick="openCategory('subtraction')">➖ Subtraction</button>
      <button class="game-btn" onclick="openCategory('multiplication')">✖️ Multiplication</button>
      <button class="game-btn" onclick="openCategory('division')">➗ Division</button>
      <button class="game-btn" onclick="backToStartMenu()">⬅️ Back</button>
    </div>

    <!-- Category Modes -->
    <div id="categoryModes" class="page hidden">
      <h2 id="categoryTitle"></h2>
      <button class="game-btn" onclick="startGame('normal')">Normal Mode</button>
      <button class="game-btn" onclick="startGame('highscore')">High Score Mode</button>
      <button class="game-btn" onclick="backToGameModes()">⬅️ Back</button>
    </div>

    <!-- Game Page -->
    <div id="gamePage" class="page hidden">
      <div id="gameHeader">
        <h2 id="gameTitle"></h2>
        <p id="timer" class="hidden">⏱️ 60s</p>
        <p>Score: <span id="score">0</span></p>
        <p class="hidden" id="highScoreWrapper">🏆 High Score: <span id="highScore">0</span></p>
        <p>Streak: <span id="streak">0</span></p>
      </div>
      <div id="questionContainer">
        <p id="question"></p>
        <input id="answerInput" type="text" inputmode="none" readonly>
        <div id="keypad" class="keypad"></div>
      </div>
      <p id="feedback"></p>
      <button class="game-btn" onclick="exitGame()">⬅️ Exit</button>
    </div>

    <!-- Collections Page -->
    <div id="collections" class="page hidden">
      <h2>📦 My Collection</h2>
      <p>Tokens: <span id="tokenCount">0</span></p>
      <button class="game-btn" id="buyPackBtn" onclick="buyPack()">Buy Pack (15 tokens)</button>
      <div id="animalGrid" class="animal-grid"></div>
      <button class="game-btn" onclick="backToStartMenu()">⬅️ Back</button>
    </div>

    <!-- Settings Page -->
    <div id="settings" class="page hidden">
      <h2>⚙️ Settings</h2>

      <div class="setting">
        <label class="switch">
          <input type="checkbox" id="darkModeToggle" onchange="toggleDarkMode(this.checked)">
          <span class="slider"></span>
        </label>
        Dark Mode
      </div>

      <div class="setting">
        <label class="switch">
          <input type="checkbox" id="contrastToggle" onchange="toggleContrast(this.checked)">
          <span class="slider"></span>
        </label>
        High Contrast
      </div>

      <div class="setting">
        <label class="switch">
          <input type="checkbox" id="largeFontToggle" onchange="toggleLargeFont(this.checked)">
          <span class="slider"></span>
        </label>
        Large Font
      </div>

      <div class="setting">
        <label class="switch">
          <input type="checkbox" id="dyslexicFontToggle" onchange="toggleDyslexicFont(this.checked)">
          <span class="slider"></span>
        </label>
        Lexie Font
      </div>

      <div class="setting">
        <label class="switch">
          <input type="checkbox" id="motionToggle" onchange="toggleMotion(this.checked)">
          <span class="slider"></span>
        </label>
        Reduce Motion
      </div>

      <button class="game-btn" onclick="backToStartMenu()">⬅️ Back</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
